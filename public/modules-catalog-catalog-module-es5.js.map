{"version":3,"sources":["webpack:///src/app/modules/catalog/catalog-browse/catalog-browse.component.ts","webpack:///src/app/modules/catalog/catalog-browse/catalog-browse.component.html","webpack:///src/app/modules/catalog/catalog-launch/catalog-launch.component.ts","webpack:///src/app/modules/catalog/catalog-launch/catalog-launch.component.html","webpack:///src/app/modules/catalog/catalog-request-status/catalog-request-status.component.ts","webpack:///src/app/modules/catalog/catalog-request-status/catalog-request-status.component.html","webpack:///src/app/modules/catalog/catalog-routing.module.ts","webpack:///src/app/modules/catalog/catalog.component.ts","webpack:///src/app/modules/catalog/catalog.component.html","webpack:///src/app/modules/catalog/catalog.module.ts"],"names":["CatalogBrowseComponent","dataService","loading","catalogItems$","records$","pipe","r","data","subscribe","selector","templateUrl","styleUrls","name","CatalogLaunchComponent","authService","activatedRoute","router","stack","routeParams","params","workflowId","workflow","getRecord","then","item","console","log","description","_workflow","_id","_parent","state","ui_start_icon","ui_start_header","ui_start_msg","ui_end_icon","ui_end_msg","stage","request_state","overall_state","substage","current_work_item","has_issues","has_questions","createRecord","res","stackId","workflow_nodes","forEach","n","_stack","working","ui_state_icon","ui_state_error","ui_state_error_msg","ui_state_success","ui_state_success_msg","ui_console_out","navigate","CatalogRequestStatusComponent","p","item$","record$","i","routes","path","component","children","pathMatch","redirectTo","CatalogRoutingModule","forChild","imports","exports","CatalogComponent","CatalogModule","declarations"],"mappings":"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","file":"modules-catalog-catalog-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy, AfterViewInit, AfterContentInit, Input } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Paginated } from '@feathersjs/feathers';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../../core/services/data.service';\n\n\n@Component({\n  selector: 'app-catalog-browse',\n  templateUrl: './catalog-browse.component.html',\n  styleUrls: ['./catalog-browse.component.scss']\n})\nexport class CatalogBrowseComponent implements OnInit {\n\n  catalogItems$: Observable<any>;\n\n  loading: boolean = true;\n\n  constructor(\n    private dataService: DataService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.catalogItems$ = this.dataService.records$('api/catalog-workflows', {})\n      .pipe(\n        map(( r: Paginated<any>) => r.data)\n      )\n\n    this.catalogItems$.subscribe( () => {\n      this.loading = false;\n    })\n  }\n\n}\n","<app-page-loading *ngIf=\"loading\"></app-page-loading>\n\n<div class=\"catalog-browse-container\" *ngIf=\"!loading\">\n  <div class=\"catalog-browse-menu\">\n\n  </div>\n\n  <div class=\"catalog-items-container\" *ngIf=\"catalogItems$ | async as items\">\n\n    <div class=\"catalog-items\">\n\n      <div class=\"clr-row items-row\">\n        <div class=\"clr-col-lg-3 clr-col-12\" *ngFor=\"let item of items\">\n          <a routerLink=\"/catalog/launch/{{ item._id }}\" class=\"card item-card clickable\">\n            <div class=\"card-block\">\n              <div class=\"card-title\">\n                {{ item.name }}\n              </div>\n              <p class=\"card-text\">\n                {{ item.description }}\n              </p>\n            </div>\n          </a>\n        </div>\n      </div>\n\n\n\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy, AfterViewInit, AfterContentInit, Input, ViewChild } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Paginated } from '@feathersjs/feathers';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../../core/services/data.service';\nimport { AuthService } from '../../core/services/auth.service';\nimport { ClrWizard } from '@clr/angular';\n\n@Component({\n  selector: 'app-catalog-launch',\n  templateUrl: './catalog-launch.component.html',\n  styleUrls: ['./catalog-launch.component.scss']\n})\nexport class CatalogLaunchComponent implements OnInit {\n\n  @ViewChild(\"wizard\") wizard: ClrWizard;\n\n  loading: boolean = true;\n\n  item: any;\n  workflowId: any;\n\n  routeParams: Subscription;\n\n  stack = {}\n\n  constructor(\n    private dataService: DataService,\n    private authService: AuthService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.routeParams = this.activatedRoute.params.subscribe( params => {\n      this.workflowId = params.workflow;\n\n      this.dataService.getRecord('api/catalog-workflows', this.workflowId)\n        .then( data => {\n          this.item = data;\n          this.loading = false;\n          console.log(this.item);\n\n          \n\n        })\n        .catch( () => {\n\n        });\n    });\n  }\n\n  submitRequest() {\n\n    let stack = {\n      name: this.item.name,\n      description: this.item.description,\n      _workflow: this.item._id,\n      _parent: this.item._id,\n      state: 'new',\n      ui_start_icon: 'current',\n      ui_start_header: 'APPROVAL',\n      ui_start_msg: 'Waiting on approval before moving forward.',\n      ui_end_icon: 'current',\n      ui_end_msg: '',\n      stage: 'approval',\n      request_state: 'needs_approval',\n      overall_state: 'needs_approval',\n      substage: null,\n      current_work_item: null,\n      has_issues: false,\n      has_questions: false\n    }\n    // this.item.request_state = 'needs_approval';\n    // this.item.overall_state = 'needs_approval';\n    // this.item.stage = 'approval';\n    // this.item.substage = null;\n    // this.item.has_issues = false;\n    // this.item.state = 'needs_approval';\n\n    this.dataService.createRecord('api/stacks', stack)\n      .then( res => {\n        let stackId = res._id;\n\n        this.item.workflow_nodes.forEach( n => {\n          n.state = 'new',\n          n._stack = stackId;\n          n.working = false;\n          n.ui_state_icon = 'not-started';\n          n.ui_state_error = false;\n          n.ui_state_error_msg = null;\n          n.ui_state_success = false;\n          n.ui_state_success_msg = null;\n          n.ui_console_out = '';\n\n\n          delete n['variables'];\n          delete n['_id'];\n\n          this.dataService.createRecord('api/stack-resources', n);\n        });\n\n        return stackId;\n      })\n      .then( stackId => {\n        this.router.navigate(['/stacks/details', stackId]);\n      })\n  }\n\n}\n","<app-page-loading *ngIf=\"loading\"></app-page-loading>\n\n\n<span *ngIf=\"item\">\n  <clr-wizard #wizard [(clrWizardOpen)]=\"!loading\"\n    (clrWizardOnFinish)=\"submitRequest()\"\n    clrWizardSize=\"lg\">\n    <clr-wizard-title>{{ item.name }}</clr-wizard-title>\n  \n    <clr-wizard-button [type]=\"'cancel'\">Cancel</clr-wizard-button>\n    <clr-wizard-button [type]=\"'previous'\">Back</clr-wizard-button>\n    <clr-wizard-button [type]=\"'next'\">Next</clr-wizard-button>\n    <clr-wizard-button [type]=\"'finish'\">Finish</clr-wizard-button>\n  \n    <clr-wizard-page>\n        <ng-template clrPageTitle>Stack Details</ng-template>\n        <clr-input-container>\n          <label class=\"clr-col-12 clr-col-md-3\">Stack Name</label>\n          <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"item.name\" name=\"name\" required/>\n          <clr-control-helper>\n            Give your stack a unique name.\n          </clr-control-helper>\n          <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n        </clr-input-container>\n\n        <clr-input-container>\n          <label class=\"clr-col-12 clr-col-md-3\">Stack Description</label>\n          <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"item.description\" name=\"description\" required/>\n          <clr-control-helper>\n            Add some info to help you remember why you deployed this stack.\n          </clr-control-helper>\n          <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n        </clr-input-container>\n    </clr-wizard-page>\n  \n    <clr-wizard-page *ngFor=\"let n of item.workflow_nodes\">\n      <ng-template clrPageTitle>{{ n.name }}</ng-template>\n\n\n      <div class=\"alert alert-info\" role=\"alert\">\n        <div class=\"alert-items\">\n          <div class=\"alert-item static\">\n            <div class=\"alert-icon-wrapper\">\n                <clr-icon class=\"alert-icon\" shape=\"info-circle\"></clr-icon>\n            </div>\n            <span class=\"alert-text\">\n              {{ n.description }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"clr-row\" *ngFor=\"let v of n.variables\">\n\n        <clr-input-container *ngIf=\"v.can_edit == 'true'\">\n          <label class=\"clr-col-12 clr-col-md-3\">{{ v.label }}</label>\n          <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"n.current_vars[v.name]\" name=\"{{ v.name }}\" required/>\n          <clr-control-helper>\n            {{ v.description }}\n          </clr-control-helper>\n          <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n        </clr-input-container>\n\n\n        <clr-input-container *ngIf=\"v.can_edit == 'false'\">\n          <label class=\"clr-col-12 clr-col-md-3\">{{ v.label }}</label>\n          <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"n.current_vars[v.name]\" name=\"{{ v.name }}\" required readonly/>\n          <clr-control-helper>\n            {{ v.description }}\n          </clr-control-helper>\n          <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n        </clr-input-container>\n      </div>\n      \n\n    </clr-wizard-page>\n  \n    <clr-wizard-page>\n        <ng-template clrPageTitle>Review</ng-template>\n        ...\n    </clr-wizard-page>\n  </clr-wizard>\n</span>\n\n","import { Component, OnInit, OnDestroy, AfterViewInit, AfterContentInit, Input, ViewChild } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Paginated } from '@feathersjs/feathers';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../../core/services/data.service';\nimport { AuthService } from '../../core/services/auth.service';\n\n@Component({\n  selector: 'app-catalog-request-status',\n  templateUrl: './catalog-request-status.component.html',\n  styleUrls: ['./catalog-request-status.component.scss']\n})\nexport class CatalogRequestStatusComponent implements OnInit {\n\n  item$: Observable<any>;\n  item: any;\n\n  constructor(\n    private dataService: DataService,\n    private activatedRoute: ActivatedRoute\n  ) { }\n\n  \n  \n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe( p => {\n      console.log(p)\n      this.item$ = this.dataService.record$('api/stacks', p.stack);\n    })\n\n    this.item$.subscribe( i => {\n      this.item = i;\n    })\n  }\n\n}\n","<div class=\"catalog-content-container\">\n  <div class=\"catalog-content-menu\">\n\n  </div>\n\n  <div class=\"catalog-content-timeline\" *ngIf=\"item$ | async as item\">\n    <clr-timeline>\n      <clr-timeline-step clrState=\"current\">\n        <clr-timeline-step-header>START</clr-timeline-step-header>\n        <clr-timeline-step-title>APPROVAL</clr-timeline-step-title>\n        <clr-timeline-step-description>Waiting on approval before moving forward.</clr-timeline-step-description>\n      </clr-timeline-step>\n      <clr-timeline-step clrState=\"not-started\" *ngFor=\"let n of item.workflow_nodes\">\n        <clr-timeline-step-header>\n          Deploy Resource\n          <!-- <clr-icon [attr.shape]=\"n.icon\" style=\"width: 12px; height: 12px;\"></clr-icon> -->\n        </clr-timeline-step-header>\n        <clr-timeline-step-title>{{ n.name }}</clr-timeline-step-title>\n        <clr-timeline-step-description>\n          \n          {{ n.description }}\n          <button class=\"btn btn-sm\">Action</button>\n        </clr-timeline-step-description>\n      </clr-timeline-step>\n      <!-- <clr-timeline-step class=\"gemini-ignore\" clrState=\"processing\">\n        <clr-timeline-step-header>11:59 am</clr-timeline-step-header>\n        <clr-timeline-step-title>Make vCenter trust KMS</clr-timeline-step-title>\n        <clr-timeline-step-description>\n          Root CA certificate requested. Upload it to the KMS to complete the connection. Third sentence is very long\n          and very long.\n        </clr-timeline-step-description>\n      </clr-timeline-step>\n      <clr-timeline-step clrState=\"success\">\n        <clr-timeline-step-header>11:59 am</clr-timeline-step-header>\n        <clr-timeline-step-title>Make KMS trust vCenter</clr-timeline-step-title>\n        <clr-timeline-step-description>Upload it to the KMS to complete the connection. Third\n          sentence.\n          <button class=\"btn btn-sm btn-link\">Action</button>\n        </clr-timeline-step-description>\n      </clr-timeline-step>\n      <clr-timeline-step clrState=\"error\">\n        <clr-timeline-step-header>11:59 am</clr-timeline-step-header>\n        <clr-timeline-step-title>Connected</clr-timeline-step-title>\n        <clr-timeline-step-description>No. It's not connected.</clr-timeline-step-description>\n      </clr-timeline-step> -->\n\n      <clr-timeline-step clrState=\"not-started\">\n        <clr-timeline-step-header>END</clr-timeline-step-header>\n        <clr-timeline-step-title>Complete Message Header HERE</clr-timeline-step-title>\n        <clr-timeline-step-description>Upload it to the KMS to complete the connection. Third\n          sentence.\n          <button class=\"btn btn-sm btn-link\">Action</button>\n        </clr-timeline-step-description>\n      </clr-timeline-step>\n    </clr-timeline>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CatalogComponent } from './catalog.component';\nimport { CatalogBrowseComponent } from './catalog-browse/catalog-browse.component';\nimport { CatalogLaunchComponent } from './catalog-launch/catalog-launch.component';\nimport { CatalogRequestStatusComponent } from './catalog-request-status/catalog-request-status.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CatalogComponent,\n    children: [\n      {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'browse'\n      },\n      {\n        path: 'browse',\n        component: CatalogBrowseComponent\n      },\n      {\n        path: 'launch/:workflow',\n        component: CatalogLaunchComponent\n      },\n      {\n        path: 'status/:stack',\n        component: CatalogRequestStatusComponent\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CatalogRoutingModule { }\n","import { Component, OnInit, OnDestroy, AfterViewInit, AfterContentInit, Input } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Paginated } from '@feathersjs/feathers';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../core/services/data.service';\n\n@Component({\n  selector: 'app-catalog',\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.scss']\n})\nexport class CatalogComponent implements OnInit {\n\n  catalogItems$: Observable<any>;\n\n  constructor(\n    private dataService: DataService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.catalogItems$ = this.dataService.records$('api/catalog-workflows', {})\n      .pipe(\n        map(( r: Paginated<any>) => r.data)\n      )\n  }\n\n}\n","<div class=\"module-content-container\">\n  <div class=\"module-header-wrapper\" style=\"border-bottom: 1px solid #cccccc;\">\n    <div class=\"module-header-container\" class=\"flex-container\"  style=\"padding: 15px;\">\n\n      <div class=\"module-branding\">\n        <div class=\"module-brand\">\n          <clr-icon class=\"is-solid\" style=\"margin-right: 10px;\" shape=\"store\"></clr-icon>\n          <span class=\"module-title\">\n            Catalog\n          </span>\n        </div>\n      </div>\n\n      <div class=\"module-nav\" style=\"margin-left: 25px;\">\n        <!-- <a href=\"javascript://\" class=\"nav-link nav-icon\">\n          <clr-icon shape=\"plus-circle\" class=\"is-solid\"></clr-icon>\n        </a> -->\n      </div>\n\n    </div>\n\n  </div>\n\n\n  <div class=\"module-content-area\" style=\"padding: 20px;\">\n\n\n    <router-outlet></router-outlet>\n\n  \n  </div>\n\n</div>\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CatalogRoutingModule } from './catalog-routing.module';\nimport { CatalogComponent } from './catalog.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ClarityModule } from '@clr/angular';\nimport { CatalogBrowseComponent } from './catalog-browse/catalog-browse.component';\nimport { CatalogLaunchComponent } from './catalog-launch/catalog-launch.component';\nimport { CatalogRequestStatusComponent } from './catalog-request-status/catalog-request-status.component';\n\n\n@NgModule({\n  declarations: [CatalogComponent, CatalogBrowseComponent, CatalogLaunchComponent, CatalogRequestStatusComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ClarityModule,\n    CatalogRoutingModule\n  ]\n})\nexport class CatalogModule { }\n"]}